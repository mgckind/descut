<dom-module id="des-results-single">
<template>
    <style>
    </style>


    <iron-ajax id="getTilesS"
        auto
        url=/static/uploads/{{username}}/results/{{jobid}}/object_list.json
        handle-as="json"
        last-response="{{jsondata}}">
    </iron-ajax>

    <des-card heading="Job : [[jobid]] ( [[jsondata.length]] tiles)"> 
    <template is="dom-if" if="{{jsondata}}">
        <template is="dom-repeat" items="{{jsondata}}">
            <des-thumb-single imdisplay="[[item.demo_png]]" imtitle="[[item.image_title]]" jobid="{{jobid}}" username="{{username}}" ra="[[item.RA]]" dec="[[item.DEC]]"></des-thumb-single>
        </template>
    </template>

    <template is="dom-if" if="{{!jsondata}}">
         <h3> There are no outputs for this job. Check logfile for details.</h3>
    </template>
    </des-card>


</template>

<script>
      Polymer({
      is: "des-results-single",
      properties : {
        jsondata: {
            type: Array,
            },
        jobid: {
            value : '',
            type : String,
            notify: true,
        },
        jobidFull: {
            value : '',
            type : String,
            notify: true,
        },
        username:{
            type: String,
            value: '',
        },
      },
    });
</script>
</dom-module>
