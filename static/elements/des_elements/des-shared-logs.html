<dom-module id="des-shared-logs">
<template>
    <style>
    </style>

    <iron-ajax id="getLog"
    auto
    url="/api/log/"
    params={{logParams}}
    handle-as="json"
    last-response="{{logdata}}"
    debounce-duration="300">
    </iron-ajax>

    <des-card heading="Job : [[jobid]] "> 
    <div class="card-content">
    <des-html html={{logdata}}></des-html>
    </div>
    </des-card>


</template>

<script>
      Polymer({
      is: "des-shared-logs",
      properties : {
        jobid: {
            value : '',
            type : String,
            notify: true,
        },
        jobidFull: {
            value : '',
            type : String,
            notify: true,
        },
        logParams:{
            type: String,
            computed: 'processParams(jobidFull)'
        },

      },
      processParams: function(jobidFull) {
        return {
            jobid: jobidFull
        };
      },
    });
</script>
</dom-module>
