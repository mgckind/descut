<dom-module id="des-results-help">
<template>
    <style>
        paper-card {
        width:100%;
    --paper-card-header-color: red;
     --paper-card-background-color: var(--paper-grey-100) ;
    }
        .jobstatus {
      color: var(--color, orange);
    }
    .status {
      display: inline-block;
      box-sizing: border-box;
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: var(--paper-yellow-500);
    }
    .green {background: var(--paper-green-500);}
    .red {background: var(--paper-red-500);}
    </style>



 <paper-card heading="Help">
  <div class="card-content">
               <paper-listbox id="smallJobList" >

                <template is="dom-repeat" id="menu" items="[[data]]">
                     <paper-item on-focus="_focus">
                     <template is="dom-if" if="{{_completed(item.status)}}">
                    <div class="status green" item-icon></div>
                    </template>
                     <template is="dom-if" if="{{_pending(item.status)}}">
                    <div class="status" item-icon></div>
                    </template>
                    <template is="dom-if" if="{{_stop(item.status)}}">
                    <div class="status red" item-icon></div>
                    </template>

                        <div style="font-size: 8.5px;">&nbsp; &nbsp;[[returnName(item.job)]]</div>
                    </paper-item>
            </template>
            </paper-listbox>

    </div>
</paper-card>

</template>

<script>
      Polymer({
      is: "des-results-help",
      properties: {
        data: {
            type: Array,
        },
      },
      _print: function() {
        console.log(this.data);
      },
      _focus: function(e){
        console.log(this._returnName(e.model.item.job));
        document.getElementById("desResults").jobid=this._returnName(e.model.item.job);
        document.getElementById("desResults").username = document.getElementById("desJobs").username;
        document.getElementById("getTiles").generateRequest();

      },
        returnName: function(job) {
        var n1=job.search("__");
        var n2=job.search("{");
        var job0 = job.substring(n1+2,n2-1);
        return job0;
      },
        _returnName: function(job) {
        var n1=job.search("__");
        var n2=job.search("{");
        var job0 = job.substring(n1+2,n2-1);
        return job0;
      },
       _completed: function(status) {
        if (status === "SUCCESS") {return true;}
      },
      _pending: function(status) {
        if (status === "PENDING") {return true;}
      },
      _stop: function(status) {
        if (status != "PENDING" && status != "SUCCESS" ) {return true;}
      },



    });


</script>
</dom-module>
